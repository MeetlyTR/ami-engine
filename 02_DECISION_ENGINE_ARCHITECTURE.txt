You are a senior AI systems engineer and moral reasoning researcher.

We are implementing Phase 2 of a mathematical moral decision engine.

You have full context of Phase 1: state space, constraints, scoring metrics (W, J, H, C), fail-safe rules, and deviation logic.

Your task:

Design a fully deterministic Moral Decision Engine architecture that:

1) Generates candidate actions.
2) Evaluates each action using W, J, H, C.
3) Applies constraint filtering.
4) Applies fail-safe override logic.
5) Selects the optimal action mathematically.
6) Produces full debug logs at every step.

Core goals:
- Deterministic.
- Explainable.
- Auditable.
- Fully testable.

Constraints:
- Justice (J) is NON-NEGOTIABLE.
- Any action violating core justice rules is eliminated.
- Fail-safe overrides all other objectives.

Architecture Requirements:

Define the following components clearly:

1. State Encoder
2. Action Generator
3. Moral Evaluation Engine
4. Constraint Validator
5. Fail-safe Controller
6. Action Selector
7. Debug + Trace Logger

For each component provide:

- Purpose
- Input format
- Output format
- Internal logic
- Pseudocode

Additionally:

Design:
- Full data flow diagram in text
- Full execution pipeline step-by-step
- Deterministic scoring flow

Finally:

Provide:

- End-to-end pseudocode
- Sample test scenario
- Expected outputs

Important:
All decisions must be mathematically explainable.
No black-box decisions are allowed.

Output language: Turkish
Explain in simple but precise engineering language.
