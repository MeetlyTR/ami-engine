# Dashboard: Demo ile Optimizasyon Farkı (Açıklama)

Neden Demo'da L1/L2 dağılımı görünüyor ama Optimizasyon panelinde fail_safe %100 çıkıyordu?

---

## 1. İki farklı ekran, iki farklı config

### Demo (üst kısım — Safety Dashboard)

- **State profili:** safe / balanced / critical / chaos (Phase 6.2 senaryo üretici).
- **Config profili:** varsayılan | **scenario_test** | production_safe.
- **scenario_test** seçtiğinde motor **scenario_test** config ile çalışır (J_CRITICAL=0.45, H_CRITICAL=0.98, CONFIDENCE_ESCALATION_FORCE=0.10).
- Sonuç: L0/L1/L2 karışık (örn. safe → L1:76, L2:24), soft clamp %76.

Yani Demo, “bu dünyada motor nasıl davranır?” sorusuna cevap verir; config’i sen seçersin.

---

### Optimizasyon (Phase 6.1 — Learning paneli)

- **State profili:** yine safe / balanced / critical / chaos (aynı senaryo üretici).
- **Eski davranış:** Motor her zaman **varsayılan (sıkı) config** ile çalışıyordu (config.py: J_CRITICAL=0.7, H_CRITICAL=0.6). Grid’teki en kötü aksiyon (worst_J=0.5, worst_H≈0.96) bu eşikleri aştığı için **her karar L2** oluyordu → fail_safe_rate %100, clamp_distortion 0.
- **Yeni davranış:** **Config tabanı** seçeneği eklendi:
  - **varsayılan:** Eski gibi; sıkı config, çoğu ortamda %100 L2.
  - **scenario_test:** Taban config scenario_test alınır; J_CRITICAL/H_CRITICAL vb. sabit kalır, sadece J_MIN, H_MAX, α, β, γ, ΔCUS, CUS_MEAN optimizasyonla oynanır. Motor L0/L1/L2 üretebildiği için fail_safe_rate düşer, clamp_distortion dolabilir.

Yani Optimizasyon paneli artık “hangi dünyada öğreniyoruz?”u da seçiyor; **Config tabanı = scenario_test** ile metrikler anlamlı hale gelir.

---

## 2. Kısa özet

| Nerede       | Config nereden?      | Fail-safe / L2      |
|-------------|----------------------|----------------------|
| Demo        | Sen seçiyorsun      | scenario_test → L1/L2 karışık |
| Optimizasyon (eski) | Hep varsayılan   | %100 L2              |
| Optimizasyon (yeni) | Config tabanı seçiliyor | scenario_test → fail_safe düşer, clamp dolabilir |

---

## 3. Ne yapmalı?

- **Sadece davranış görmek istiyorsan:** Demo’da State profili + **Config profili = scenario_test** → L0/L1/L2 ve soft clamp görünür.
- **Öğrenme metriklerini (fail_safe_rate, mean_cus, clamp) anlamlı görmek istiyorsan:** Phase 6.1’de **Config tabanı = scenario_test** seç, State profili safe/balanced dene → Optimizasyon grafiklerinde fail_safe oranı %100’ün altına iner, parametre evrimi anlamlı olur.

Bu doküman, dashboard’daki “Demo vs Optimizasyon” farkının referans açıklamasıdır.
