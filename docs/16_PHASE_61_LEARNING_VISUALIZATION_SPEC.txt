# Phase 6.1 — Learning Dashboard & Optimization Visualizer (Mini-Spec)

**AMI-ENGINE:** Öğrenmenin gözle kanıtlanması — loss, metrik ve parametre evriminin görselleştirilmesi.

Referans: Phase 6.0 (Offline Learning), Phase 4.7.2 (Dashboard).

---

# 1. Amaç

- Sistemin **öğrendiğini** (L düşüşü, fail_safe oranı düşüşü, CUS düşüşü) grafikle göstermek.
- Parametre evrimini (J_MIN, H_MAX, α, β, γ) izlemek.
- Demo / yatırımcı / regülasyon için **kanıt paneli** sunmak.

---

# 2. Optimization History Formatı

Her “adım” (epoch) bir kayıt. JSONL satırı:

```json
{"step": 0, "L": 2.35, "fail_safe_rate": 1.0, "mean_cus": 0.81, "clamp_distortion": 0.0, "J_MIN": 0.85, "H_MAX": 0.30, "SOFT_CLAMP_ALPHA": 0.60, "SOFT_CLAMP_BETA": 0.50, "SOFT_CLAMP_GAMMA": 0.35, "DELTA_CUS_THRESHOLD": 0.15, "CUS_MEAN_THRESHOLD": 0.65}
```

Dosya: `optimization_history.jsonl` (veya kullanıcı seçimi).

---

# 3. Görselleştirilecek Paneller

| Panel | Eksen | Açıklama |
|-------|--------|----------|
| **Loss zaman serisi** | X = step, Y = L | L’nin adım adım düşüşü |
| **Fail-safe oranı** | X = step, Y = fail_safe_rate | L2 oranının trendi |
| **CUS mean trend** | X = step, Y = mean_cus | Belirsizlik ortalamasının düşüşü |
| **Clamp distortion** | X = step, Y = clamp_distortion | İsteğe bağlı |
| **Parametre evrimi** | X = step, Y = değer; seri = J_MIN, H_MAX, α, β, γ | Beş parametrenin adım adım değişimi |

---

# 4. Veri Akışı

- **Yükle:** `optimization_history.jsonl` → liste → grafikler.
- **Üret:** Dashboard’da “N adım optimizasyon çalıştır” → run_optimization_loop(N, …) → history listesi → JSONL’a yaz (isteğe) → aynı grafikler.

---

# 5. Modül Yeri

- `learning/run_optimization_loop.py` — N adım döngü, history döndürür / JSONL’a yazar.
- `visualization/plots/learning_evolution.py` — plot_loss_evolution, plot_metrics_evolution, plot_param_evolution.
- `visualization/dashboard.py` — “Phase 6.1 — Learning” bölümü, yükle veya çalıştır + grafikler.

---

Bu spec, Phase 6.1 Learning Visualization’ın referans dokümanıdır.
