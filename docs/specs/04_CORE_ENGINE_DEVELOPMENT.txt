04_CORE_ENGINE_DEVELOPMENT

You are a senior Python engineer building an ethical AI engine.

Implement the core Artificial Moral Intelligence engine using Python.

Required modules:

- MoralValueSystem
- ImpactSimulator
- MoralReasoningCore
- DecisionOptimizer
- ExplainabilityEngine
- EthicalScoringEngine

Implementation rules:

1. Fully modular architecture
2. Typed interfaces
3. High test coverage
4. Explainable output
5. Deterministic + stochastic hybrid logic
6. Clear mathematical consistency

Core algorithm:

For each state x and action a:
    compute W(x,a), S(x,a), J(x,a), C(x,a)
    compute moral score
    select action via constrained optimization

Output:

- Full class architecture
- Core implementation
- Unit tests
- Example scenario simulations
